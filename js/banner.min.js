"use strict";var _createClass=function(){function a(t,i){for(var e=0;e<i.length;e++){var a=i[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,i,e){return i&&a(t.prototype,i),e&&a(t,e),t}}();function _classCallCheck(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}!function(){var e=[],a=100,i=100,t=100*a,s=!1;setTimeout(function(){s=!0}.bind(this),t),n(100);var r=document.getElementById("banner2");r.width=screen.availWidth,r.height=600;var l=r.getContext("2d"),h=function(){function h(t,i){_classCallCheck(this,h);var e=["rgba(0, 178, 243, 1)","\trgba(60, 106, 157, 1)","\trgba(171, 77, 79, 1)","rgba(141, 7, 48, 1)","\trgba(111, 0, 50, 1"],a=["578","678","499","322","667","628","417","325","400","390","理科状元","文科状元","语文","数学","英语","物理","生物","化学","历史","地理","政治","北京大学","清华大学","湖南大学","武汉大学","中南大学","计算机","园林设计","土木工程","金融专业"],s=["full","fill","empty"];this.random=Math.random(),this.ctx=t,this.progress=0,this.w=r.width,this.h=r.height,this.x=r.width/2+(500*Math.random()-500*Math.random()),this.y=r.height/2+(300*Math.random()-300*Math.random()),this.radius=4+15*this.random,this.type=s[this.randomIntFromInterval(0,s.length-1)],this.color=e[this.randomIntFromInterval(0,e.length-1)],this.text=a[this.randomIntFromInterval(0,a.length-1)],this.a=0,this.s=(this.radius+1*Math.random())/10}return _createClass(h,[{key:"getCoordinates",value:function(){return{x:this.x,y:this.y}}},{key:"randomIntFromInterval",value:function(t,i){return Math.floor(Math.random()*(i-t+1)+t)}},{key:"render",value:function(){var t=.2+2.8*this.random,i=this.color;switch(this.type){case"full":this.createArcFill(this.radius,i),this.createArcEmpty(this.radius+t,t/2,i),this.createText(this.radius);break;case"fill":this.createArcFill(this.radius,i),this.createText(this.radius);break;case"empty":this.createArcEmpty(this.radius,t,i),this.createText(this.radius)}}},{key:"createText",value:function(t){this.ctx.beginPath(),l.font="14px 微软雅黑",l.fillStyle="#aaa",l.fillText(this.text,this.x-7*this.text.length,this.y-t-5),this.ctx.closePath()}},{key:"createArcFill",value:function(t,i){this.ctx.beginPath(),this.ctx.arc(this.x,this.y,t,0,2*Math.PI),this.ctx.fillStyle=i,this.ctx.fill(),this.ctx.closePath()}},{key:"createArcEmpty",value:function(t,i,e){this.ctx.beginPath(),this.ctx.arc(this.x,this.y,t,0,2*Math.PI),this.ctx.lineWidth=i,this.ctx.strokeStyle=e,this.ctx.stroke(),this.ctx.closePath()}},{key:"move",value:function(){return this.x+=Math.cos(this.a)*this.s,this.y+=Math.sin(this.a)*this.s,this.a+=.4*Math.random()-.2,!(this.x<0||this.x>this.w-this.radius)&&(!(this.y<0||this.y>this.h-this.radius)&&(this.render(),!0))}},{key:"calculateDistance",value:function(t,i){var e=Math.abs(t.x-i.x),a=Math.abs(t.y-i.y);return Math.sqrt(e*e+a*a)}}]),h}();function n(t){for(var i=0;i<t;i++)setTimeout(function(){e.push(new h(l))},a*i);return console.log(e.length),e.length}!function t(){var o;l.fillStyle="#0f2249",l.fillRect(0,0,r.width,r.height),o=null,$.each(e,function(t,i){if(0<t){var e=o.getCoordinates(),a=i.getCoordinates(),s=Math.abs(a.x-e.x),h=Math.abs(a.y-e.y),r=1/Math.sqrt(s*s+h*h)*60-.009,n=1<r?1:r;l.beginPath(),l.moveTo(e.x,e.y),l.lineTo(a.x,a.y),l.lineWidth=1,l.strokeStyle="rgba(255,255,255,"+n+")",l.stroke(),l.closePath()}o=i}),e=e.filter(function(t){return t.move()}),s&&e.length<i&&n(1),requestAnimationFrame(t.bind(this))}()}();